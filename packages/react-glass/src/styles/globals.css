@import 'tailwindcss';

:root {
  color-scheme: light dark;
}

.light {
  /* forces light color-scheme */
  color-scheme: light;
}

.dark {
  /* forces dark color-scheme */
  color-scheme: dark;
}

/* 
  Material Design-Inspired Theme System
  
  This theme uses semantic color tokens rather than numerical shade scales:
  
  - primary: Main brand color (buttons, important UI elements)
  - on-primary: Text/icons that appear on primary color backgrounds
  - primary-container: Secondary/softer brand color for containers
  - on-primary-container: Text/icons on primary-container backgrounds
  
  - secondary: Secondary accent color
  - on-secondary: Text/icons that appear on secondary color backgrounds
  - secondary-container: Secondary accent for containers
  - on-secondary-container: Text/icons on secondary-container backgrounds
  
  - surface: Background color for cards, dialogs, etc.
  - on-surface: Primary text on surface backgrounds
  - on-surface-variant: Secondary text, hints, icons on surface
  
  - outline: Border colors, dividers
  - background: Main background color
  - on-background: Text on main background
*/

@theme {
  /*
    LAYOUT SPACING CONVENTIONS

    These spacing tokens enforce consistent alignment across the app UI.
    The key principle: container padding + card padding = total content inset

    Usage pattern:
    - Page container: px-4 sm:px-6 (--spacing-page-x)
    - Card internal padding: p-4 sm:p-8 (--spacing-card-x)
    - Navigation: px-8 sm:px-14 (--spacing-page-x + --spacing-card-x)

    This ensures nav text aligns with card content text vertically.
  */
  --spacing-page-x-sm: 1rem;
  /* 16px - mobile container padding */
  --spacing-page-x: 1.5rem;
  /* 24px - desktop container padding */
  --spacing-card-x-sm: 1rem;
  /* 16px - mobile card padding */
  --spacing-card-x: 2rem;
  /* 32px - desktop card padding */
  --spacing-inline-sm: 2rem;
  /* 32px - mobile total inset (page + card) */
  --spacing-inline: 3.5rem;
  /* 56px - desktop total inset (page + card) */

  /* Vertical spacing scale for consistency */
  --spacing-section: 3rem;
  /* 48px - between major page sections */
  --spacing-section-sm: 1.5rem;
  /* 24px - mobile section spacing */
  --spacing-element: 1.5rem;
  /* 24px - between related elements */
  --spacing-element-sm: 1rem;
  /* 16px - mobile element spacing */

  /* Minimal Glass Design Color Palette */

  /* Primary - Soft teal/cyan for glass accents */
  --color-primary: light-dark(rgb(14 165 233), rgb(6 182 212));
  /* sky-500, cyan-500 */
  --color-on-primary: light-dark(white, rgb(8 47 73));
  /* white, cyan-950 */
  --color-primary-container: light-dark(rgb(224 242 254), rgb(21 94 117));
  /* sky-100, cyan-800 */
  --color-on-primary-container: light-dark(rgb(12 74 110), rgb(207 250 254));
  /* sky-900, cyan-100 */

  /* Secondary - Muted purple for subtle accents */
  --color-secondary: light-dark(rgb(139 92 246), rgb(168 85 247));
  /* violet-500, purple-500 */
  --color-on-secondary: light-dark(white, white);
  /* white, white */
  --color-secondary-container: light-dark(rgb(237 233 254), rgb(88 28 135));
  /* violet-100, purple-800 */
  --color-on-secondary-container: light-dark(rgb(76 29 149), rgb(243 232 255));
  /* violet-900, purple-100 */

  /* Tertiary - Soft rose for highlights */
  --color-tertiary: light-dark(rgb(236 72 153), rgb(244 114 182));
  /* pink-500, pink-400 */
  --color-on-tertiary: light-dark(white, rgb(80 7 36));
  /* white, pink-950 */
  --color-tertiary-container: light-dark(rgb(252 231 243), rgb(157 23 77));
  /* pink-100, pink-800 */
  --color-on-tertiary-container: light-dark(rgb(131 24 67), rgb(252 231 243));
  /* pink-900, pink-100 */

  /* Error - Soft red */
  --color-error: light-dark(rgb(239 68 68), rgb(248 113 113));
  /* red-500, red-400 */
  --color-on-error: light-dark(white, rgb(69 10 10));
  /* white, red-950 */
  --color-error-container: light-dark(rgb(254 226 226), rgb(127 29 29));
  /* red-100, red-800 */
  --color-on-error-container: light-dark(rgb(127 29 29), rgb(254 226 226));
  /* red-900, red-100 */

  /* Surface colors for glass effect */
  --color-surface: light-dark(rgb(248 250 252), rgb(15 23 42));
  /* slate-50, slate-900 */
  --color-on-surface: light-dark(rgb(15 23 42), rgb(248 250 252));
  /* slate-900, slate-50 */
  --color-on-surface-variant: light-dark(rgb(100 116 139), rgb(148 163 184));
  /* slate-500, slate-400 */

  /* Outline - Subtle borders for glass */
  --color-outline: light-dark(rgb(226 232 240), rgb(51 65 85));
  /* slate-200, slate-700 */

  /* Background - Gradient-friendly base */
  --color-background: light-dark(rgb(241 245 249), rgb(2 6 23));
  /* slate-100, slate-950 */
  --color-on-background: light-dark(rgb(15 23 42), rgb(248 250 252));
  /* slate-900, slate-50 */

  /* Glass-specific colors */
  --color-glass-bg: light-dark(rgba(255, 255, 255, 0.7), rgba(15, 23, 42, 0.7));
  --color-glass-border: light-dark(
    rgba(255, 255, 255, 0.2),
    rgba(255, 255, 255, 0.1)
  );
  --color-glass-shadow: light-dark(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.3));
}

/*
  THEME USAGE GUIDE:

  Here's how to use this theme system in your application:

  0. LAYOUT & SPACING:
     - Page wrapper: <div className="min-h-screen"> (NO bg-background - let html background show)
     - Page container: <div className="container mx-auto px-4 sm:px-6">
     - Card/Section: <div className="p-4 sm:p-8">
     - Navigation (to align with cards): <div className="container mx-auto px-8 sm:px-14">
     - Between sections: mb-6 sm:mb-12 (--spacing-section)
     - Between elements: mb-4 sm:mb-6 (--spacing-element)

     Why this works:
       Mobile: 16px (page) + 16px (card) = 32px total inset
       Desktop: 24px (page) + 32px (card) = 56px total inset
       Navigation uses the combined value to align with card content

     IMPORTANT: Do NOT use bg-background on page-level wrappers. The background
     is set on <html> with a tiled pattern image. Page wrappers should be transparent
     to allow the background to show through. Only cards should have glass backgrounds.

     Card Grid Pattern (for consistent heights with bottom actions):
     - Card container: <GlassCard className="flex flex-col" padded={false}>
     - Card content: <div className="p-6 flex-1">Content...</div>
     - Card footer: <GlassCardFooter>Actions (uses mt-auto)</GlassCardFooter>
     This ensures all cards in a grid have the same height with actions at the bottom.

  1. BUTTONS:
     - Primary action button: <Button variant="default">
     - Secondary action button: <Button variant="secondary">
     - Outline button: <Button variant="outline">
     - Text button: <Button variant="ghost">
     - Danger button: <Button variant="destructive">
     - Container-styled button: <Button variant="container">
  
  2. CARDS:
     - Card container: bg-surface border border-outline rounded-lg
     - Card title: text-on-surface font-medium
     - Card subtitle/metadata: text-on-surface-variant
  
  3. TEXT:
     - Primary text: text-on-background (on main app background)
     - Primary text on cards: text-on-surface
     - Secondary text on cards: text-on-surface-variant
     - Text on primary elements: text-on-primary
  
  4. CONTAINERS:
     - Primary branded container: bg-primary-container text-on-primary-container
     - Secondary branded container: bg-secondary-container text-on-secondary-container
     - Tertiary branded container: bg-tertiary-container text-on-tertiary-container
     - Error container: bg-error-container text-on-error-container
     - Main content area: bg-background text-on-background
  
  5. FORMS:
     - Input borders: border-outline focus:border-primary
     - Input text: text-on-surface
     - Input background: bg-surface
     - Labels: text-on-surface-variant
     - Validation/errors: Use destructive colors for errors
*/

/* Background component - theme-aware background gradients */
.theme-background {
  background-attachment: fixed; /* Ensures gradient covers full height */
  /* If you wish to use a background image instead of a gradient, uncomment the following lines
     and the background-image lines in the light/dark mode sections below. */
  /* background-size: 600px 600px; */
  /* background-position: top left; */
  /* background-repeat: repeat; */
}

/* Light mode - explicit class */
.light .theme-background,
html.light.theme-background {
  background-image: linear-gradient(to bottom right, #f9fbfd, #f2f5f7);
  /* To use image instead, uncomment this line: */
  /* background-image: url('/background-light.png'); */
}

/* Dark mode - explicit class */
.dark .theme-background,
html.dark.theme-background {
  background-image: linear-gradient(to bottom right, #010408, #0e1115);
  /* To use image instead, uncomment this line: */
  /* background-image: url('/background-dark.jpg'); */
}

/* System preference fallbacks */
@media (prefers-color-scheme: dark) {
  html:not(.light) .theme-background,
  html.theme-background:not(.light) {
    background-image: linear-gradient(to bottom right, #010408, #0e1115);
    /* To use image instead, uncomment this line: */
    /* background-image: url('/background-dark.jpg'); */
  }
}

@media (prefers-color-scheme: light) {
  html:not(.dark) .theme-background,
  html.theme-background:not(.dark) {
    background-image: linear-gradient(to bottom right, #f9fbfd, #f2f5f7);
    /* To use image instead, uncomment this line: */
    /* background-image: url('/background-light.png'); */
  }
}

/* MDX Content Styles */
.prose {
  color: hsl(var(--on-surface));
  max-width: 65ch;
}

.prose h1 {
  font-size: 2.25rem;
  font-weight: 700;
  line-height: 2.5rem;
  margin-top: 0;
  margin-bottom: 2rem;
  color: hsl(var(--on-background));
}

.prose h2 {
  font-size: 1.875rem;
  font-weight: 600;
  line-height: 2.25rem;
  margin-top: 2.5rem;
  margin-bottom: 1.5rem;
  color: hsl(var(--on-surface));
}

.prose h3 {
  font-size: 1.5rem;
  font-weight: 600;
  line-height: 2rem;
  margin-top: 2rem;
  margin-bottom: 1rem;
  color: hsl(var(--on-surface));
}

.prose h4 {
  font-size: 1.25rem;
  font-weight: 600;
  line-height: 1.75rem;
  margin-top: 1.5rem;
  margin-bottom: 0.75rem;
  color: hsl(var(--on-surface));
}

.prose p {
  margin-top: 1rem;
  margin-bottom: 1rem;
  line-height: 1.75;
}

.prose strong {
  font-weight: 600;
  color: hsl(var(--on-surface));
}

.prose ul,
.prose ol {
  margin-top: 1rem;
  margin-bottom: 1rem;
  padding-left: 1.5rem;
}

.prose ul {
  list-style-type: disc;
}

.prose ol {
  list-style-type: decimal;
}

.prose li {
  margin-top: 0.5rem;
  margin-bottom: 0.5rem;
  line-height: 1.75;
}

.prose li > p {
  margin-top: 0.5rem;
  margin-bottom: 0.5rem;
}

.prose a {
  color: hsl(var(--primary));
  text-decoration: underline;
  font-weight: 500;
}

.prose a:hover {
  color: hsl(var(--primary) / 0.8);
}

.prose code {
  color: hsl(var(--primary));
  font-weight: 500;
  font-size: 0.875em;
  background-color: hsl(var(--surface-variant) / 0.3);
  padding: 0.125rem 0.25rem;
  border-radius: 0.25rem;
}

.prose pre {
  background-color: hsl(var(--surface-variant) / 0.3);
  overflow-x: auto;
  font-size: 0.875em;
  line-height: 1.5;
  margin-top: 1.5rem;
  margin-bottom: 1.5rem;
  border-radius: 0.5rem;
  padding: 1rem 1.5rem;
}

.prose pre code {
  background-color: transparent;
  border-width: 0;
  border-radius: 0;
  padding: 0;
  font-weight: inherit;
  color: inherit;
  font-size: inherit;
  font-family: inherit;
  line-height: inherit;
}

.prose blockquote {
  font-weight: 500;
  font-style: italic;
  color: hsl(var(--on-surface-variant));
  border-left-width: 0.25rem;
  border-left-color: hsl(var(--outline));
  quotes: '\201C' '\201D' '\2018' '\2019';
  margin-top: 1.5rem;
  margin-bottom: 1.5rem;
  padding-left: 1rem;
}

.prose img,
.prose video {
  margin-top: 2rem;
  margin-bottom: 2rem;
  border-radius: 0.5rem;
}

.prose hr {
  border-color: hsl(var(--outline));
  margin-top: 2rem;
  margin-bottom: 2rem;
}

.prose table {
  width: 100%;
  table-layout: auto;
  text-align: left;
  margin-top: 2rem;
  margin-bottom: 2rem;
}

.prose thead {
  border-bottom-width: 1px;
  border-bottom-color: hsl(var(--outline));
}

.prose thead th {
  color: hsl(var(--on-surface));
  font-weight: 600;
  vertical-align: bottom;
  padding: 0.5rem;
}

.prose tbody tr {
  border-bottom-width: 1px;
  border-bottom-color: hsl(var(--outline) / 0.5);
}

.prose tbody td {
  vertical-align: baseline;
  padding: 0.5rem;
}
